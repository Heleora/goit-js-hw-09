{"mappings":"iiBACA,IAAAA,EAAAC,EAAA,SAGQC,EAAOC,SAASC,cAAc,SACXD,SAASC,cAAc,UA8BlD,SAASC,EAAcC,EAAUC,EAAOC,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAcC,OAAOT,IAAUS,OAAOV,GAAY,GAAKU,OAAOR,GAEpES,YAAW,WACLL,EAELF,EAAQ,CAAEJ,WAAUS,gBAInBJ,EAAQ,CAAEL,WAAUS,e,GAGtBA,E,IA3CJb,EAAKgB,iBAAiB,UAItB,SAAuBC,GACrBA,EAAIC,iBASJ,IAPA,IAAMC,EAAeF,EAAIG,cAAcC,SACjChB,EAAQc,EAAad,MAAMiB,MAC3BhB,EAAOa,EAAab,KAAKgB,MACzBC,EAASJ,EAAaI,OAAOD,MAE/BE,EAAW,EAENC,EAAI,EAAGA,EAAIF,EAAQE,IAC1BtB,EAAcqB,EAAUnB,EAAOC,GAC9BoB,MAAK,SAAAC,G,IAAGvB,EAAQuB,EAARvB,SAAUS,EAAWc,EAAXd,YACjBe,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAwCC,OAAf3B,EAAS,QAAkB2B,OAAZlB,EAAY,M,IAE7EmB,OAAM,SAAAL,G,IAAGvB,EAAQuB,EAARvB,SAAUS,EAAWc,EAAXd,YAClBe,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAqCF,OAAf3B,EAAS,QAAkB2B,OAAZlB,EAAY,M,IACzEW,GAAY,EAGdP,EAAIG,cAAcc,K","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport Notiflix from 'notiflix';\n\n\n  const form = document.querySelector(\".form\");\n  const createPromiseBtn = document.querySelector(\"button\");\n\n\nform.addEventListener(\"submit\", onFormSubmit);\n\n \n\nfunction onFormSubmit (evt) {\n  evt.preventDefault();\n\n  const formElements = evt.currentTarget.elements;\n  const delay = formElements.delay.value;\n  const step = formElements.step.value;\n  const amount = formElements.amount.value;\n\n  let position = 1;\n  \n  for (let i = 0; i < amount; i++) {\n    createPromise(position, delay, step)\n    .then(({ position, resultDelay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${resultDelay}ms`);\n    })\n    .catch(({ position, resultDelay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${resultDelay}ms`);});\n      position += 1;\n    }\n    \n    evt.currentTarget.reset;\n  }\n\nfunction createPromise(position, delay, step) {\n  \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    const resultDelay = Number(delay) + (Number(position) - 1) * Number(step);\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n     resolve({ position, resultDelay });\n    }\n    else {\n      // Reject\n      reject ({ position, resultDelay });\n    }\n  }\n  , resultDelay\n    )\n\n  })\n};\n\n\n// for (let i = 0; i < amount; i++) {\n//   createPromise(position, delay, step)\n//   .then(value => console.log(value)) \n//   .catch(error => console.log(error));\n//   position += 1;\n// }"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","step","Promise","resolve","reject","shouldResolve","Math","random","resultDelay","Number","setTimeout","addEventListener","evt","preventDefault","formElements","currentTarget","elements","value","amount","position1","i","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","reset"],"version":3,"file":"03-promises.f15c7ea2.js.map"}